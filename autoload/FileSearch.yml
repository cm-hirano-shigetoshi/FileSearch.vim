variables:
    var1:
    var2: '.'
base_task:
    input: pt -g ^ $var2 | sed 's`^\./``'
    opts:
        - multi
        - reverse
        - height=9999
    preview: eval head -n 10000 {}
expects:
    enter:
        pipe: sed "s%^%$var1%" | tr '\n' ' '
    ctrl-h:
        continue:
            var2: $(echo "../$var2" | sed 's%/\.$%%')
    ctrl-j:
        continue:
            input: pt -g ^ $(cd ${q} && pwd)
            query: ''
    ctrl-g:
        continue:
            input: git -C $(git rev-parse --show-toplevel) ls-files --full-name
            var1: $(git rev-parse --show-toplevel | sed 's%$%/%')
            preview: eval head -n 10000 ${var1}{}

